<div class="category-page">
  <div *ngIf="message" class="message">
    {{ message }}
  </div>

  <div class="category-header">
    <h1>Categories</h1>
    
    <!-- FORM TO ADD AND EDIT CATEGORY -->
    <div class="add-cat">
      <input
        type="text"
        [(ngModel)]="categoryName"
        placeholder="Enter category name"
        required
      />
      <button *ngIf="!isEditing" (click)="addCategory()">Add Category</button>
      <button *ngIf="isEditing" (click)="editCategory()">Save Changes</button>
    </div>
  </div>

  <!-- DISPLAY THE CATEGORIES -->
  <div *ngIf="categories.length > 0; else noCategories">
    <ul class="category-list">
      <li *ngFor="let category of categories" class="category-item">
        <span>{{ category.name }} <small>(ID: {{ category.id }})</small></span>
        <div class="category-actions">
          <button (click)="handleEditCategory(category)">Edit</button>
          <button (click)="handleDeleteCategory(category.id)">Delete</button>
        </div>
      </li>
    </ul>
  </div>

  <ng-template #noCategories>
    <p class="no-categories">No categories found. Add your first category!</p>
  </ng-template>
</div>