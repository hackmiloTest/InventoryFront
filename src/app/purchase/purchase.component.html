<div class="purchase-form-page">
  <p *ngIf="message" class="message">{{ message }}</p>
  <h1>Receive Inventory</h1>

  <!-- PRODUCT PURCHASE? INVENTORY RECEIVING PAGE -->
  <form (ngSubmit)="handleSubmit()">
    <div class="form-group">
      <label>Search Product</label>
      <input type="text" [(ngModel)]="productSearchTerm" (input)="onProductSearch()" name="productSearch"
        class="form-control" placeholder="Type product name or SKU..." />
      <div class="search-results" *ngIf="filteredProducts.length > 0 && productSearchTerm.length >= 2">
        <div *ngFor="let product of filteredProducts" class="result-item" (click)="selectProduct(product)">
          {{ product.name }} (SKU: {{ product.sku }})
        </div>
      </div>
      <input type="hidden" [(ngModel)]="productId" name="productId">
    </div>
    
    <div class="form-group">
      <label for="">Select Supplier</label>
      <select
        name="supplierId"
        class="form-control"
        [(ngModel)]="supplierId"
        id=""
      >
        <option value="">Select a Supplier</option>
        <option *ngFor="let supplier of suppliers" [value]="supplier.id">
          {{ supplier.name }}
        </option>
      </select>
    </div>

    <div class="form-group">
      <label for="">Description</label>
      <input type="text" [(ngModel)]="description" name="description" class="form-control" />
    </div>


    <div class="form-group">
      <label for="">Quantity</label>
      <input type="number" [(ngModel)]="quantity" name="quantity" class="form-control" />
    </div>


    <button type="submit" class="btn btn-primary">Purchase Product</button>
  </form>
</div>